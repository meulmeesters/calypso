!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("FuzzySearch",[],t):"object"==typeof exports?exports.FuzzySearch=t():e.FuzzySearch=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),a=i(c);e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(s(this,e),0===t.length)throw new Error("We need an array containing the search list");this.haystack=t,this.keys=n,this.options=a.default.extend({caseSensitive:!1,sort:!1},i)}return o(e,[{key:"search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===t)return this.haystack;for(var n=[],i=0;i<this.haystack.length;i++){var s=this.haystack[i];if(0===this.keys.length){var o=e.isMatch(s,t,this.options.caseSensitive);o&&n.push({item:s,score:o})}else for(var c=0;c<this.keys.length;c++){for(var r=a.default.getDescendantProperty(s,this.keys[c]),l=!1,u=0;u<r.length;u++){var d=e.isMatch(r[u],t,this.options.caseSensitive);if(d){l=!0,n.push({item:s,score:d});break}}if(l)break}}return this.options.sort&&n.sort(function(e,t){return e.score-t.score}),n.map(function(e){return e.item})}}],[{key:"isMatch",value:function(e,t,n){n||(e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase());for(var i=t.split(""),s=[],o=0,c=0;c<i.length;c++){var a=i[c];if(o=e.indexOf(a,o),o===-1)return!1;s.push(o),o++}for(var r=1,l=0;l<s.length;l++)l!==s.length-1&&(r+=s[l+1]-s[l]);return r}}]),e}()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){n(this,e)}return i(e,null,[{key:"extend",value:function(){for(var t={},n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];for(var o=0;o<i.length;o++){var c=i[o];for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&("[object Object]"===Object.prototype.toString.call(c[a])?t[a]=e.extend(t[a],c[a]):t[a]=c[a])}return t}},{key:"getDescendantProperty",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=void 0,o=void 0,c=void 0,a=void 0,r=void 0,l=void 0;if(n){if(c=n.indexOf("."),c===-1?s=n:(s=n.slice(0,c),o=n.slice(c+1)),a=t[s],null!==a&&"undefined"!=typeof a)if(o||"string"!=typeof a&&"number"!=typeof a)if("[object Array]"===Object.prototype.toString.call(a))for(r=0,l=a.length;r<l;r++)e.getDescendantProperty(a[r],o,i);else o&&e.getDescendantProperty(a,o,i);else i.push(a)}else i.push(t);return i}}]),e}();t.default=s}])});var calypso;!function(e){var t;!function(e){var t;!function(e){e.DEFAULT_ACCEPT_HEADER="application/vnd.iuclid6.ext+json",e.DEFINITION_ACCEPT_HEADER="application/vnd.iuclid6.ext+json;type=iuclid6.Definition",e.BASE_URL="http://iuclid.ca:3000",e.BASE_URI=e.BASE_URL+"/iuclid6-ext/api/ext/v1",e.BASE_DEFINITIONS_URI=e.BASE_URI+"/definition",e.SUBMISSION_TYPES_URI=e.BASE_DEFINITIONS_URI+"/submissiontypes",e.DOCUMENT_TREE_URI=e.BASE_DEFINITIONS_URI+"/tree",e.SUBSTANCE_URI=e.BASE_URI,e.END_POINT_STUDY_URI=e.BASE_URI+"/endpointstudy"}(t=e.API||(e.API={}))}(t=e.Const||(e.Const={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(e){var t;!function(e){e.addFilter="filter.add",e.afterAddFilter="filter.add.after",e.removeFilter="filter.remove",e.afterRemoveFilter="filter.remove.after",e.applyFilters="filter.apply",e.afterApplyFilters="filter.apply.after",e.loadIuclidEndPointStudies="iuclidEndPointStudy.load",e.loadIuclidSubstances="iuclidSubstance.load",e.performSearch="search.load",e.loadSubmissionType="submission-type.load",e.loadDocument="document.load"}(t=e.Events||(e.Events={}))}(t=e.Const||(e.Const={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(e){var t;!function(e){e.Sort={ASC:"fieldAscending",DESC:"fieldDescending"},e.ORGANIZATION={title:"Organization",type:"checkbox",category:"ORGANIZATION",options:[{category:"ORGANIZATION",key:"OECD",label:"OECD",value:!1,submitValue:"OECD",multi:!1},{category:"ORGANIZATION",key:"HC",label:"Health Canada",value:!1,submitValue:"HC",multi:!1},{category:"ORGANIZATION",key:"EC",label:"Environment Canada and Climate Change",value:!1,submitValue:"EC",multi:!1}]},e.IUCLID_SUBSTANCE_FILTERS=[e.ORGANIZATION]}(t=e.Filters||(e.Filters={}))}(t=e.Const||(e.Const={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(e){var t;!function(e){e.FAVORITE_IUCLID_END_POINT_STUDIES="calypso.iuclidEndPointStudies.favorites",e.FAVORITE_IUCLID_SUBSTANCES="calypso.iuclidSubstances.favorites"}(t=e.LocalStorage||(e.LocalStorage={}))}(t=e.Const||(e.Const={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(e){var t;!function(e){e.DEFAULT_LIMIT=12}(t=e.Paging||(e.Paging={}))}(t=e.Const||(e.Const={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(e){var t;!function(e){var t="/templates/";e.SUBSTANCES_TPL=t+"substances.html",e.NEW_SUBSTANCE_TPL=t+"new-substance.html",e.ENDPOINTSTUDIES_TPL=t+"endpointstudies.html",e.HOME_TPL=t+"home.html",e.NOT_FOUND_TPL=t+"not-found.html",e.GENERIC_FORM_TPL=t+"directives/generic-form.html",e.SEARCH_BAR_TPL=t+"directives/search-bar.html",e.SIDE_FILTER_TPL=t+"directives/side-filter.html",e.SIDE_TREE_TPL=t+"directives/side-tree/side-tree.html",e.SIDE_TREE_SECTION_TPL=t+"directives/side-tree/side-tree-section.html",e.IUCLID_SUBSTANCE_FILTER_TPL=t+"directives/iuclid-substance-filter.html",e.IUCLID_SUBSTANCE_LIST_TPL=t+"directives/iuclid-substance-list.html",e.IUCLID_END_POINT_STUDY_FILTER_TPL=t+"directives/iuclid-end-point-study-filter.html",e.IUCLID_END_POINT_STUDY_LIST_TPL=t+"directives/iuclid-end-point-study-list.html",e.BREADCRUMB_TPL=t+"directives/breadcrumbs.html",e.PAGING_TPL=t+"directives/paging.html",e.IUCLID_FORM_TPL=t+"directives/iuclid-form/iuclid-form.html",e.IUCLID_FORM_TOOLBAR_TPL=t+"directives/iuclid-form/form-toolbar.html",e.IUCLID_FORM_CONTENTS_TPL=t+"directives/iuclid-form/iuclid-form-contents.html",e.IUCLID_FORM_PICKER_TPL=t+"directives/iuclid-form/iuclid-form-picker.html",e.IUCLID_ATTRIBUTE_BLOCK_TPL=t+"directives/iuclid-attributes/iuclid-block.html",e.IUCLID_ATTRIBUTE_CHECKBOX_TPL=t+"directives/iuclid-attributes/iuclid-checkbox.html",e.IUCLID_ATTRIBUTE_TEXT_TPL=t+"directives/iuclid-attributes/iuclid-text.html",e.IUCLID_ATTRIBUTE_PICK_LIST_TPL=t+"directives/iuclid-attributes/iuclid-pick-list.html",e.IUCLID_ATTRIBUTE_ATTACHMENT_TPL=t+"directives/iuclid-attributes/iuclid-attachment.html",e.IUCLID_ATTRIBUTE_RANGE_TPL=t+"directives/iuclid-attributes/iuclid-range.html",e.IUCLID_ATTRIBUTE_NUMERIC_TPL=t+"directives/iuclid-attributes/iuclid-numeric.html",e.IUCLID_ATTRIBUTE_DATE_TPL=t+"directives/iuclid-attributes/iuclid-date.html",e.NGX_DROP_DOWN_TPL=t+"directives/ngx/drop-down.html"}(t=e.Templates||(e.Templates={}))}(t=e.Const||(e.Const={}))}(calypso||(calypso={}));var calypso;!function(e){var t=e.Const.Templates;angular.module("calypso.services",[]),angular.module("calypso.directives",[]),angular.module("calypso",["ngRoute","calypso.services","calypso.directives"]),angular.module("calypso").constant("_",_),angular.module("calypso").constant("FuzzySearch",window.FuzzySearch),angular.module("calypso").config(["$routeProvider","$compileProvider",function(e,n){n.debugInfoEnabled(!1),e.when("/",{redirectTo:"/substances"}).when("/substances",{templateUrl:t.SUBSTANCES_TPL}).when("/substances/new",{templateUrl:t.NEW_SUBSTANCE_TPL}).when("/endpointstudies",{templateUrl:t.ENDPOINTSTUDIES_TPL}).otherwise({templateUrl:t.NOT_FOUND_TPL})}]),angular.module("calypso").run(["AppConfig",function(e){e.loadSubmissionTypes("SUBSTANCE")}])}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n,i=e.Const.API,s=function(){function e(e,t){this.$http=e,this.DB=t,n=this}return e.prototype.loadSubmissionTypes=function(e){n.$http.get(i.SUBMISSION_TYPES_URI,{headers:{Accept:i.DEFINITION_ACCEPT_HEADER},params:{for:e}}).then(function(e){n.DB.setSubmissionTypes(e.data)}).catch(function(e){console.error("Failed to load Submission Types: "+JSON.stringify(e))})},e}();s.$inject=["$http","DB"],t.AppConfig=s,angular.module("calypso.services").service("AppConfig",s)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n,i=function(){function t(t,i,s){this.$parse=t,this._=i,this.EventBus=s,n=this,n._db={filters:{},iuclidSubstances:[],submissionTypes:[],submissionType:null,sort:{field:"tpmillesime",dir:e.Const.Filters.Sort.DESC},paging:{offset:0,limit:e.Const.Paging.DEFAULT_LIMIT}},s.subscribe(e.Const.Events.addFilter,n,n.addFilter),s.subscribe(e.Const.Events.removeFilter,n,n.removeFilter),s.subscribe(e.Const.Events.loadIuclidSubstances,n,n.loadIuclidSubstances)}return t.prototype.addFilter=function(t){t&&(t.multi?(n._db.filters[t.category]=n._db.filters[t.category]||[],n._db.filters[t.category].push(t)):n._db.filters[t.category]=t,n.EventBus.publish(e.Const.Events.afterAddFilter,t),n.EventBus.publish(e.Const.Events.applyFilters))},t.prototype.removeFilter=function(t){var i=n._db.filters;if(i&&i[t.category]){if(t.multi){var s=i[t.category];s.splice(_.findIndex(s,{key:t.key}),1),0===s.length&&delete i[t.category]}else delete i[t.category];n.EventBus.publish(e.Const.Events.afterRemoveFilter,t),t.skipApply!==!0&&n.EventBus.publish(e.Const.Events.applyFilters)}var o=n._.findIndex(e.Const.Filters.IUCLID_SUBSTANCE_FILTERS,{category:t.category}),c=e.Const.Filters.IUCLID_SUBSTANCE_FILTERS[o];if(c)if(t.multi){if(o=n._.findIndex(c.options,{key:t.key}),c.options[o])switch(c.type){case"checkbox":c.options[o].value=!1}}else switch(c.type){case"checkbox":var a=n._.find(c.options,{key:t.key})||{};a.value=!1}},t.prototype.loadIuclidSubstances=function(e){var t=e.results,i=n.getIuclidSubstances();i.splice(0,i.length),i.push.apply(i,t)},t.prototype.loadIuclidEndPointStudies=function(e){var t=e.results,i=n.getIuclidEndPointStudies();i.splice(0,i.length),i.push.apply(i,t)},t.prototype.getFilters=function(){return n.$parse("_db.filters")(n)},t.prototype.getIuclidEndPointStudies=function(){return n.$parse("_db.iuclidEndPointStudies")(n)},t.prototype.getIuclidSubstances=function(){return n.$parse("_db.iuclidSubstances")(n)},t.prototype.getSorting=function(){return n.$parse("_db.sort")(n)},t.prototype.getPaging=function(){return n.$parse("_db.paging")(n)},t.prototype.setPaging=function(e){n._db.paging=e},t.prototype.setSubmissionTypes=function(e){var t=n.getSubmissionTypes();t.splice(0,t.length),t.push.apply(t,e)},t.prototype.getSubmissionTypes=function(){return n.$parse("_db.submissionTypes")(n)},t.prototype.setSubmissionType=function(e){n._db.submissionType=e},t.prototype.getSubmissionType=function(){return n.$parse("_db.submissionType")(n)},t}();i.$inject=["$parse","_","EventBus"],t.DB=i,angular.module("calypso.services").service("DB",i)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n,i=e.Const.API,s=function(){function e(e,t,i){this.$q=e,this.$http=t,this.$timeout=i,this._cache={},n=this}return e.prototype.getDocumentDefinition=function(e){var t=n.$q.defer(),s=i.BASE_DEFINITIONS_URI+"/document/"+e;return n._cache[e]?n.$timeout(function(){t.resolve(n._cache[e])},50):n.$http.get(s,{params:{_c:(new Date).getTime()},headers:{Accept:i.DEFINITION_ACCEPT_HEADER}}).then(function(i){n._cache[e]=i.data,t.resolve(i.data)}).catch(function(e){alert("Failed to Get Document Definition: "+JSON.stringify(e))}),t.promise},e}();s.$inject=["$q","$http","$timeout"],t.DocumentService=s,angular.module("calypso.services").service("DocumentService",s)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(e){var t,n=function(){function e(){t=this,t._topics={},t._subUid=-1}return e.prototype.subscribe=function(e,n,i,s){t._topics[e]||(t._topics[e]=[]);var o=(++t._subUid).toString();return t._topics[e].push({token:o,handler:i,scope:n,priority:s||1e4}),o},e.prototype.publish=function(e,n){if(!t._topics[e])return!1;var i=t._topics[e],s=i?i.length:0;return s>0&&i.sort(function(e,t){return e.priority-t.priority}).forEach(function(e){angular.isFunction(e.handler)&&e.handler.call(e.scope,n)}),!0},e.prototype.unsubscribe=function(e){for(var n in t._topics)if(t._topics[n])for(var i=0,s=t._topics[n].length;i<s;i++)if(t._topics[n][i].token===e)return t._topics[n].splice(i,1),!0;return!1},e}();e.EventBus=n,angular.module("calypso.services").service("EventBus",n)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n,i=e.Const.API,s=function(){function e(e,t){this.$q=e,this.$http=t,this._cache={},n=this}return e.prototype.get=function(e){var t=n.$q.defer(),s=i.BASE_DEFINITIONS_URI+"/phrasegroup/"+e+"/phrases";return n._cache[e]?t.resolve(n._cache[e]):n.$http.get(s).then(function(i){n._cache[e]=i.data,t.resolve(i.data)}).catch(function(e){console.error("Error: "+e)}),t.promise},e}();s.$inject=["$q","$http"],t.IuclidPhraseGroup=s,angular.module("calypso.services").service("IuclidPhraseGroup",s)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n,i=function(){function t(t,i,s,o,c){this.$window=t,this.$q=i,this.$http=s,this.EventBus=o,this.ReqBuilder=c,n=this,o.subscribe(e.Const.Events.performSearch,n,n.performSearch)}return t.prototype.search=function(e){var t=n.$q.defer(),i=n.ReqBuilder.getUri(e)+"/raw/SUBSTANCE/8082ace8-26b8-4800-914f-5c44988ebebc";console.log("The Substance uri is "+i);var s=n.ReqBuilder.getData(e);console.log("The Data is "+s);var o={headers:{accept:"application/vnd.iuclid6.ext+json; type=iuclid6.Document","iuclid6-user":"SuperUser","iuclid6-pass":"root"}};return n.$http.get(i,o,s).then(function(e){var i={totalCount:e.data.length,results:e.data};n.enrich(i),t.resolve(i)}).catch(function(e){t.reject(e)}),t.promise},t.prototype.enrich=function(t){var i=e.Const.LocalStorage.FAVORITE_IUCLID_SUBSTANCES,s=n.$window.localStorage.getItem(i),o=s?JSON.parse(s):{};console.log(JSON.stringify(t)),t.results.forEach(function(e){e._favorite=!!o[e.key],console.log(e.name)})},t}();i.$inject=["$window","$q","$http","EventBus","ReqBuilder"],t.IuclidSubstance=i,angular.module("calypso.services").service("IuclidSubstance",i)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n,i=function(){function t(t,i,s,o){this.$rootScope=t,this.EventBus=i,this.DB=s,this.IuclidSubstance=o,n=this,i.subscribe(e.Const.Events.applyFilters,n,n.applyFilters),i.subscribe(e.Const.Events.performSearch,n,n.performSearch)}return t.prototype.buildSearchReq=function(){var e=n.DB.getFilters(),t=Object.keys(e).map(function(t){return e[t]});return{filters:t,sort:n.DB.getSorting(),paging:n.DB.getPaging()}},t.prototype.performSearch=function(){n.$rootScope.loading=!0,n.IuclidSubstance.search(n.buildSearchReq()).then(function(t){n.EventBus.publish(e.Const.Events.loadIuclidSubstances,t),n.$rootScope.loading=!1}).catch(function(e){alert("Error searching for Iuclid Substances"),n.$rootScope.loading=!1})},t.prototype.applyFilters=function(){n.performSearch()},t}();i.$inject=["$rootScope","EventBus","DB","IuclidSubstance"],t.IuclidSubstanceFilter=i,angular.module("calypso.services").service("IuclidSubstanceFilter",i)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n,i=function(){function t(t){this._=t,this.defaultSearchReqData={aq:"",searchHub:"default",language:"en",pipeline:"default",firstResult:0,numberOfResults:e.Const.Paging.DEFAULT_LIMIT,excerptLength:200,filterField:null,enableDidYouMean:!0,sortCriteria:"fieldDescending",sortField:"@tpmillesime",queryFunctions:[],rankingFunctions:[],retrieveFirstSentences:!0,timezone:"America/New_York",enableDuplicateFiltering:!1,enableCollaborativeRating:!1},n=this}return t.prototype.getUri=function(t){return""+e.Const.API.SUBSTANCE_URI},t.prototype.getData=function(e){var t=angular.extend({},n.defaultSearchReqData,{aq:n.getFilters(e.filters),q:n.getMainSearch(e.filters),sortField:"@"+e.sort.field,sortCriteria:e.sort.dir,firstResult:e.paging.offset,numberOfResults:e.paging.limit});return t},t.prototype.getMainSearch=function(e){return(n._.find(e,{key:"main-search"})||{}).submitValue},t.prototype.getFilters=function(e){var t={};e.forEach(function(e){angular.isArray(e)&&e.length>0?t[e[0].category]=e:t[e.category]=e});var n=Object.keys(t);return n.reduce(function(e,n){if("main-search"!==n){var i=t[n];angular.isArray(i)&&i.length>0?i.length>1?(e+="(@"+n+"==(",i.forEach(function(t,n){e+=t.submitValue,e+=n<i.length-1?",":""}),e+="))"):e+="(@"+n+"=="+i[0].submitValue+")":e+="(@"+n+"=="+i.submitValue+")"}return e},"")},t}();i.$inject=["_"],t.ReqBuilder=i,angular.module("calypso.services").service("ReqBuilder",i)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n,i=e.Const.API,s=function(){function e(e,t,i){this.$q=e,this.$http=t,this.$timeout=i,this._treeCache={},n=this}return e.prototype._formatTreeDefinition=function(e){var t={code:e.code,title:e.title,completed:{title:"Completed",documents:[]},required:{title:"Required",documents:[]},optional:{title:"Optional",documents:[]}},n=function(e){e&&e.length>0&&e.forEach(function(e){e.documents.forEach(function(e){e.required===!0?t.required.documents.push(e):t.optional.documents.push(e)}),n(e.sections)})};return n(e.sections),t},e.prototype.getTreeDefinition=function(e){var t=n.$q.defer(),s=i.DOCUMENT_TREE_URI+"/"+e;return n._treeCache[e]?n.$timeout(function(){t.resolve(n._treeCache[e])},50):n.$http.get(s,{headers:{Accept:i.DEFAULT_ACCEPT_HEADER},params:{for:"SUBSTANCE"}}).then(function(i){var s=n._formatTreeDefinition(i.data);n._treeCache[e]=s,t.resolve(s)}).catch(function(e){alert("Failed to Get Tree Definition: "+JSON.stringify(e))}),t.promise},e}();s.$inject=["$q","$http","$timeout"],t.TreeService=s,angular.module("calypso.services").service("TreeService",s)}(t=e.Services||(e.Services={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n=e.Const.Templates;angular.module("calypso.directives").directive("iuclidSubstanceFilter",["_","DB","EventBus",function(t,i,s){return{restrict:"E",scope:{filter:"="},templateUrl:n.IUCLID_SUBSTANCE_FILTER_TPL,link:function(t){t.onChange=function(t,n){switch(n.type){case"checkbox":var i=t.value===!0?e.Const.Events.addFilter:e.Const.Events.removeFilter;t.multi===!1&&n.options.forEach(function(n){n.key!==t.key&&n.value===!0&&(n.skipApply=!0,n.value=!1,s.publish(e.Const.Events.removeFilter,n))}),s.publish(i,t)}}}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n=e.Const.Templates;angular.module("calypso.directives").directive("iuclidEndPointStudyList",["$window","DB","EventBus",function(t,i,s){return{restrict:"E",scope:{},templateUrl:n.IUCLID_END_POINT_STUDY_LIST_TPL,link:function(n,o){n.iuclidEndPointStudies=i.getIuclidEndPointStudies(),n.openIuclidEndPointStudy=function(e){e&&e.clickUri&&t.open(e.clickUri)},n.favoriteIuclidEndPointStudy=function(n,i){i.preventDefault(),i.stopPropagation();var s=e.Const.LocalStorage.FAVORITE_IUCLID_END_POINT_STUDIES,o=t.localStorage.getItem(s),c=o?JSON.parse(o):{};n._favorite===!0?(n._favorite=!1,delete c[n.key]):(n._favorite=!0,c[n.key]=!0),t.localStorage.setItem(s,JSON.stringify(c))},s.subscribe(e.Const.Events.loadIuclidEndPointStudies,n,function(){document.querySelector("div.iuclid-end-point-study-list").scrollTop=0})}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n=e.Const.Templates;angular.module("calypso.directives").directive("iuclidSubstanceList",["$window","DB","EventBus",function(t,i,s){return{restrict:"E",scope:{},templateUrl:n.IUCLID_SUBSTANCE_LIST_TPL,link:function(n,o){n.iuclidSubstances=i.getIuclidSubstances(),n.openIuclidSubstance=function(e){e&&e.clickUri&&t.open(e.clickUri)},n.favoriteIuclidSubstance=function(n,i){i.preventDefault(),i.stopPropagation();var s=e.Const.LocalStorage.FAVORITE_IUCLID_SUBSTANCES,o=t.localStorage.getItem(s),c=o?JSON.parse(o):{};n._favorite===!0?(n._favorite=!1,delete c[n.key]):(n._favorite=!0,c[n.key]=!0),t.localStorage.setItem(s,JSON.stringify(c))},s.subscribe(e.Const.Events.loadIuclidSubstances,n,function(){document.querySelector("div.iuclid-substance-list").scrollTop=0})}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n=e.Const.Templates,i=e.Const.Events;angular.module("calypso.directives").directive("searchBar",["DB","EventBus",function(e,t){return{restrict:"E",replace:!0,scope:{},templateUrl:n.SEARCH_BAR_TPL,link:function(n){n.data={submissionTypes:[]},n.data.submissionTypes=e.getSubmissionTypes(),n.onSubmissionTypeSelect=function(n){e.setSubmissionType(n),t.publish(i.loadSubmissionType,n)}}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n=e.Const.Templates;angular.module("calypso.directives").directive("sideFilter",[function(){return{restrict:"E",scope:{filters:"="},templateUrl:n.SIDE_FILTER_TPL,link:function(t){console.log("FILTERS:"+t.filters),t.filters=e.Const.Filters.IUCLID_SUBSTANCE_FILTERS}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidAttachment",[function(){return{scope:{content:"="},templateUrl:e.Const.Templates.IUCLID_ATTRIBUTE_ATTACHMENT_TPL}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidBlock",[function(){return{scope:{content:"="},templateUrl:e.Const.Templates.IUCLID_ATTRIBUTE_BLOCK_TPL,link:function(e){e.state={collapsed:!0},e.toggleWrapper=function(){e.state.collapsed=!e.state.collapsed}}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidCheckbox",[function(){return{scope:{content:"="},templateUrl:e.Const.Templates.IUCLID_ATTRIBUTE_CHECKBOX_TPL}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidDate",[function(){return{scope:{content:"="},templateUrl:e.Const.Templates.IUCLID_ATTRIBUTE_DATE_TPL}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidNumeric",[function(){return{scope:{content:"="},templateUrl:e.Const.Templates.IUCLID_ATTRIBUTE_NUMERIC_TPL}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidPickList",["IuclidPhraseGroup",function(t){return{scope:{content:"="},templateUrl:e.Const.Templates.IUCLID_ATTRIBUTE_PICK_LIST_TPL,link:function(e){e.state={phraseGroup:[]},t.get(e.content.phrasegroup).then(function(t){e.state.phraseGroup=t}).catch(function(e){console.error("Error Getting Phrase Group: "+JSON.stringify(e))})}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidRange",[function(){return{scope:{content:"="},templateUrl:e.Const.Templates.IUCLID_ATTRIBUTE_RANGE_TPL}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidText",[function(){return{scope:{content:"="},templateUrl:e.Const.Templates.IUCLID_ATTRIBUTE_TEXT_TPL}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(e){angular.module("calypso.directives").directive("ngxActiveCls",["$location",function(e){return{restrict:"A",link:function(t,n){function i(){var t=n[0],i=e.path(),s=t.hash?t.hash.replace("#",""):t.pathname;i.split("/")[1]===s.split("/")[1]?t.classList.add("active"):t.classList.remove("active")}t.$on("$locationChangeSuccess",i),i()}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("ngxDropDown",[function(){return{restrict:"E",replace:!0,templateUrl:e.Const.Templates.NGX_DROP_DOWN_TPL,scope:{placeholder:"@",values:"=",onChange:"&"},link:function(e,t){e.data={disabled:!1,value:null},e.data.value=e.placeholder||"Select...",e.select=function(t){e.data.value=t.title,angular.isFunction(e.onChange)&&e.onChange({value:t})},t.bind("click",function(n){n.stopPropagation(),e.data.disabled||t.toggleClass("active")})}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(e){angular.module("calypso.directives").directive("ngxMultiple",[function(){return{restrict:"A",link:function(e,t,n){"true"!==n.ngxMultiple&&n.ngxMultiple!==!0||t.attr("multiple",!0)}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n=e.Const.Events,i=e.Const.Templates;angular.module("calypso.directives").directive("sideTree",["$rootScope","_","FuzzySearch","EventBus","TreeService",function(e,t,s,o,c){return{restrict:"E",scope:{},templateUrl:i.SIDE_TREE_TPL,link:function(i,a){i.state={filter:"",tree:null,treeDisplay:null},i.props={selectedCode:null},i.$on("$destroy",function(){o.unsubscribe(l),o.unsubscribe(u)});var r=function(){var e=i.state.filter.toLowerCase();i.state.filter?(i.state.treeDisplay=angular.copy(i.state.tree),i.state.treeDisplay.completed.documents.length>0&&(i.state.treeDisplay.completed.documents=new s(i.state.treeDisplay.completed.documents,["title"]).search(e)),i.state.treeDisplay.required.documents.length>0&&(i.state.treeDisplay.required.documents=new s(i.state.treeDisplay.required.documents,["title"]).search(e)),i.state.treeDisplay.optional.documents.length>0&&(i.state.treeDisplay.optional.documents=new s(i.state.treeDisplay.optional.documents,["title"]).search(e))):i.state.treeDisplay=i.state.tree};i.filter=t.debounce(function(){i.$apply(r)},100);var l=o.subscribe(n.loadSubmissionType,i,function(t){e.loading=!0,i.props.selectedCode=null,c.getTreeDefinition(t.identifier).then(function(e){i.state.tree=e,r()}).catch(function(e){alert("Failed to Load Tree: "+JSON.stringify(e))}).finally(function(){e.loading=!1})}),u=o.subscribe(n.loadDocument,i,function(e){i.props.selectedCode=e})}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n=e.Const.Events,i=e.Const.Templates;angular.module("calypso.directives").directive("sideTreeSection",["EventBus",function(e){return{restrict:"E",scope:{section:"=",props:"="},templateUrl:i.SIDE_TREE_SECTION_TPL,link:function(t){t.state={collapsed:!0},t.loadNodeDocument=function(t){e.publish(n.loadDocument,t.code)},t.toggleSection=function(e){t.state.collapsed=!t.state.collapsed}}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("formToolbar",[function(){return{scope:{document:"="},templateUrl:e.Const.Templates.IUCLID_FORM_TOOLBAR_TPL,link:function(t){t.state={downloadUrl:e.Const.API.BASE_URL+"/txt/"+t.document.identifier}}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidForm",[function(){return{scope:{document:"="},templateUrl:e.Const.Templates.IUCLID_FORM_TPL}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){angular.module("calypso.directives").directive("iuclidFormContent",[function(){return{scope:{contents:"="},templateUrl:e.Const.Templates.IUCLID_FORM_CONTENTS_TPL}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={}));var calypso;!function(e){var t;!function(t){var n=e.Const.Events;angular.module("calypso.directives").directive("iuclidFormPicker",["$rootScope","$timeout","EventBus","DB","DocumentService",function(t,i,s,o,c){return{scope:{},templateUrl:e.Const.Templates.IUCLID_FORM_PICKER_TPL,link:function(e,i){var a;e.state={document:null,submissionType:null},e.state.submissionType=o.getSubmissionType(),e.loadSubmissionType=function(){s.publish(n.loadSubmissionType,e.state.submissionType)},e.state.submissionType&&e.loadSubmissionType(),s.subscribe(n.loadSubmissionType,e,function(t){e.state.document=null,a=null,e.state.submissionType=t}),s.subscribe(n.loadDocument,e,function(n){a!==n&&(t.loading=!0,c.getDocumentDefinition(n).then(function(t){var s=i[0].querySelector(".iuclid-form-content-wrapper");s&&(s.scrollTop=0),e.state.document=t,a=n}).catch(function(e){alert("Failed to Get Document Definition: "+JSON.stringify(e))}).finally(function(){t.loading=!1}))})}}}])}(t=e.Directives||(e.Directives={}))}(calypso||(calypso={})),angular.module("calypso").run(["$templateCache",function(e){e.put("/templates/endpointstudies.html","<h1>endpointstudies</h1>"),e.put("/templates/home.html",'<side-filter filters="calypso.Const.Filters.IUCLID_SUBSTANCE_FILTERS"></side-filter>\n<div class="main-view">\n    <iuclid-substance-list></iuclid-substance-list>\n</div>\n'),e.put("/templates/new-substance.html",'<side-tree></side-tree>\n<div class="main-view">\n    <iuclid-form-picker></iuclid-form-picker>\n</div>\n'),e.put("/templates/not-found.html",'<div ng-init="content = { title: \'Tester 1 2 3\', phrasegroup: \'TD07\' }">\n    <h1>Not Found!</h1>\n    <a href="#/">Home</a>\n    <iuclid-pick-list content="content"></iuclid-pick-list>\n</div>\n'),e.put("/templates/substances.html",'<div class="side-tree">\n    <a href="/#/substances/new" class="btn btn-primary" style="margin-left: 20px;">Create New</a>\n</div>\n<div class="main-view">\n    <h1>Substances</h1>\n</div>\n'),e.put("/templates/directives/iuclid-end-point-study-list.html",'<div class="iuclid-end-point-study-list">\n    <div class="iuclid-end-point-study-list-container">\n        <div ng-repeat="iuclidEndPointStudy in iuclidEndPointStudies class="iuclidEndPointStudy-card" ng-click="openIuclidEndPointStudy(endPointStudy)">\n            <h3>\n                <i ng-class="{\'fa-star\': iuclidEndPointStudy._favorite, \'fa-star-o\': !iuclidEndPointStudy._favorite}"\n                   class="fa" ng-click="favoriteiendPointStudy(iuclidEndPointStudy, $event)"></i>\n                <span class="separator">|</span>\n                {{ iuclidEndPointStudy.title }}\n                <small>{{ iuclidEndPointStudy.raw.tpprixnormal }}</small>\n            </h3>\n            <h5 class="iuclidEndPointStudy-region">{{ iuclidEndPointStudy.raw.tpregion }} | {{ iuclidEndPointStudy.raw.tppays || \' \' }}</h5>\n            <div class="iuclidDocument-details">\n                <img ng-src="{{ iuclidEndPointStudy.raw.tpthumbnailuri }}" class="iuclidEndPointStudy-thumbnail"/>\n                <p class="iuclidEndPointStudy-notes">{{ iuclidEndPointStudy.raw.tpnotededegustation || iuclidEndPointStudy.excerpt.split(\'...\')[0] }}</p>\n            </div>\n        </div>\n        <div ng-if="!iuclidEndPointStudies.length" class="iuclidEndPointStudy-list-empty">\n            <h1><i class="fa fa-cloud"></i></h1>\n            <h2>No Iuclid End Point Studies match your Search!</h2>\n        </div>\n    </div>\n</div>\n'),
e.put("/templates/directives/iuclid-substance-filter.html",'<div>\n    <span class="title">{{ filter.title }}</span>\n    <ul>\n        <li ng-repeat="option in filter.options">\n            <input type="checkbox" ng-if="filter.type === \'checkbox\'" ng-model="option.value" ng-change="onChange(option, iuclidSubstanceSearchFilter)">\n            <label class="checkbox-label" ng-if="filter.type === \'checkbox\'">{{ option.label }}</label>\n        </li>\n    </ul>\n</div>\n'),e.put("/templates/directives/iuclid-substance-list.html",'<div class="iuclid-substance-list">\n    <div class="iuclid-substance-list-container">\n        <div ng-repeat="iuclidSubstance in iuclidSubstances" class="iuclidSubstance-card" ng-click="openIuclidSubstance(iuclidSubstance)">\n            <h3>\n                <i ng-class="{\'fa-star\': iuclidSubstance._favorite, \'fa-star-o\': !iuclidSubstance._favorite}"\n                   class="fa" ng-click="favoriteIuclidSubstance(iuclidSubstance, $event)"></i>\n                <span class="separator">|</span>\n                {{ iuclidSubstance.name }}\n                <small>{{ iuclidSubstance.key }}</small>\n            </h3>\n        </div>\n        <div ng-if="!iuclidSubstances.length" class="iuclidSubstance-list-empty">\n            <h1><i class="fa fa-cloud"></i></h1>\n            <h2>No Iuclid Substances match your Search!</h2>\n        </div>\n    </div>\n</div>\n'),e.put("/templates/directives/search-bar.html",'<div class="search-bar">\n    <a href="/#/substances" ngx-active-cls>\n        SUBSTANCES\n    </a>\n    <a href="/#/endpointstudies" ngx-active-cls>\n        ENDPOINT STUDIES\n    </a>\n    <ngx-drop-down values="data.submissionTypes"\n                   on-change="onSubmissionTypeSelect(value)"\n                   placeholder="Select a Submission Type...">\n    </ngx-drop-down>\n</div>\n'),e.put("/templates/directives/side-filter.html",'<div class="side-filter">\n    <div ng-repeat="filter in filters" class="filter-category">\n        <iuclid-substance-filter filter="filter"></iuclid-substance-filter>\n    </div>\n</div>\n'),e.put("/templates/directives/iuclid-attributes/iuclid-attachment.html",'<div class="form__content form__content--attachment">\n    <label>{{ content.title }}</label>\n    <input type="file"\n           name="{{ content.name }}"\n           accept="{{ content.mimeType }}"\n           ngx-multiple="{{ !!content.name }}" />\n</div>\n'),e.put("/templates/directives/iuclid-attributes/iuclid-block.html",'<div class="form__content form__content--block"\n        ng-class="{ \'form__content--block--collapsed\': state.collapsed }">\n    <h3 class="form__conent--block__title"\n            ng-click="toggleWrapper()">\n        <i class="fa collapse-toggle"\n           ng-class="{ \'fa-chevron-down\': !state.collapsed, \'fa-chevron-right\': state.collapsed }"> </i>\n        {{ content.title }}\n        <i class="fa fa-check-circle"></i>\n        <!--<i class="fa fa-exclamation-circle"></i>-->\n    </h3>\n    <div class="form__content--block__wrapper">\n        <iuclid-form-content contents="content.contents"></iuclid-form-content>\n    </div>\n</div>\n'),e.put("/templates/directives/iuclid-attributes/iuclid-checkbox.html",'<div class="form__content form__content--checkbox">\n    <label>{{ content.title }}</label>\n    <input type="checkbox"\n           ng-model="content.value" />\n</div>\n'),e.put("/templates/directives/iuclid-attributes/iuclid-date.html",'<div class="form__content form__content--date">\n    <label>{{ content.title }}</label>\n    <input type="date"\n           ng-model="content.value" />\n</div>\n'),e.put("/templates/directives/iuclid-attributes/iuclid-numeric.html",'<div class="form__content form__content--numeric">\n    <label>{{ content.title }}</label>\n    <input type="number"\n           ng-model="content.value"\n           min="{{ content.min }}"\n           max="{{ content.max }}" />\n</div>\n'),e.put("/templates/directives/iuclid-attributes/iuclid-pick-list.html",'<div class="form__content form__content--pick-list">\n    <label>{{ content.title }}</label>\n\n    <select ng-options="item.phrase.text for item in state.phraseGroup track by item.phrase.code"\n            ng-model="content.value"\n            class="form__content--pick-list__select">\n    </select>\n</div>\n'),e.put("/templates/directives/iuclid-attributes/iuclid-range.html",'<div class="form__content form__content--range">\n    <label>{{ content.title }}</label>\n    <input type="range"\n           ng-model="content.value" />\n</div>\n'),e.put("/templates/directives/iuclid-attributes/iuclid-text.html",'<div class="form__content form__content--text">\n    <label>{{ content.title }}</label>\n    <!--\n        If the content\'s max length is greater than 256\n        then we should use a text input to provide the\n        ability to provide a larger body of text.\n        Maybe in the future we want to provide some rich\n        text editor?\n    -->\n    <textarea ng-if="content.maxLength && content.maxLength > 256"\n              ng-model="content.value"\n              maxlength="{{ content.maxLength }}">\n    </textarea>\n    <!--\n        Otherwise for type text where the max length is less\n        then 256 we should use a regular text input since\n        it\'s more likely this is a relatively shorter value\n    -->\n    <input ng-if="!content.maxLength || content.maxLength <= 256"\n           type="text"\n           maxlength="{{ content.maxLength }}"\n           ng-model="content.value" />\n</div>\n'),e.put("/templates/directives/iuclid-form/form-toolbar.html",'<div class="form-toolbar">\n    <div class="form-toolbar--filler"></div>\n    <button class="btn">\n        <i class="fa fa-save"></i>\n    </button>\n    <button class="btn">\n        <i class="fa fa-trash"></i>\n    </button>\n    <a href="{{ state.downloadUrl }}" class="btn">\n        <i class="fa fa-download"></i>\n    </a>\n</div>\n'),e.put("/templates/directives/iuclid-form/iuclid-form-contents.html",'<div ng-repeat="content in contents" ng-switch="content.type">\n    <iuclid-block ng-switch-when="block" content="content"></iuclid-block>\n    <iuclid-text ng-switch-when="text" content="content"></iuclid-text>\n    <iuclid-checkbox ng-switch-when="boolean" content="content"></iuclid-checkbox>\n    <iuclid-range ng-switch-when="range" content="content"></iuclid-range>\n    <iuclid-numeric ng-switch-when="numeric" content="content"></iuclid-numeric>\n    <iuclid-pick-list ng-switch-when="picklist" content="content"></iuclid-pick-list>\n    <iuclid-attachment ng-switch-when="attachment" content="content"></iuclid-attachment>\n    <iuclid-date ng-switch-when="date" content="content"></iuclid-date>\n\n    <!--\n        The template for adding new form types is like this:\n        <iuclid-$type ng-switch-when="$type" content="content" ></iculid-$type>\n    -->\n\n    <div ng-switch-default class="form__content">\n        <pre class="no-type-warn">No Form Attribute Implementation for Type:[{{ content.type }}]<br><b>Content:</b> {{ content }}</pre>\n    </div>\n</div>\n'),e.put("/templates/directives/iuclid-form/iuclid-form-picker.html",'<div class="form-picker__wrapper">\n    <h2 class="form-picker__title" ng-if="state.document">\n        {{ state.document.identifier }}\n        <small>{{ state.document.provider }} {{ state.document.version }}</small>\n    </h2>\n\n    <div ng-if="!state.submissionType" class="empty-state">\n        <h2 class="empty-state__title">Choose a Submission Type</h2>\n        <i class="fa fa-arrow-circle-up empty-state__icon"></i>\n        <p class="empty-state__description">In order to get started creating a new Substance, you first need to select a Submission Type.</p>\n    </div>\n\n    <div ng-if="state.submissionType && !state.document" class="empty-state">\n        <h2 class="empty-state__title">Choose a Document</h2>\n        <i class="fa fa-arrow-circle-left empty-state__icon"></i>\n        <p class="empty-state__description">Select a document from the Tree on the left. Note that there are required vs. optional Documents</p>\n    </div>\n\n    <div ng-if="state.document">\n        <iuclid-form document="state.document"></iuclid-form>\n    </div>\n</div>\n'),e.put("/templates/directives/iuclid-form/iuclid-form.html",'<div class="iuclid-form">\n    <form-toolbar document="document"></form-toolbar>\n    <div class="iuclid-form-content-wrapper">\n        <iuclid-form-content contents="document.contents"></iuclid-form-content>\n    </div>\n</div>\n'),e.put("/templates/directives/ngx/drop-down.html",'<div class="drop-down__wrapper">\n    <div class="drop-down__label__wrapper">\n        <span class="drop-down__label">{{ data.value }}</span>\n        <i class="fa fa-angle-down"></i>\n    </div>\n    <ul class="drop-down__item-wrapper">\n        <li class="drop-down__item"\n            ng-repeat="item in values"\n            ng-click="select(item)">\n            {{ item.title }}\n        </li>\n    </ul>\n</div>\n'),e.put("/templates/directives/side-tree/side-tree-section.html",'<h3 class="side-tree__section__title"\n        ng-click="toggleSection($event)">\n    <i class="fa collapse-toggle"\n        ng-class="{ \'fa-chevron-down\': !state.collapsed, \'fa-chevron-right\': state.collapsed }"> </i>\n    {{ section.title }}\n    <span class="badge">{{ section.documents.length }}</span>\n</h3>\n<ul class="side-tree__node-container"\n        ng-class="{ \'side-tree__node-container--collapsed\': state.collapsed }">\n    <li class="side-tree__node"\n        ng-class="{ \'side-tree__node--selected\': (props.selectedCode === document.code) }"\n        ng-click="loadNodeDocument(document)"\n        ng-repeat="document in section.documents">\n        {{ document.title }}\n    </li>\n    <li class="empty-state__side-tree-section" ng-if="section.documents.length === 0">\n        <i class="fa fa-folder-open-o"></i>\n        <br/>\n        <span>Nothing here!</span>\n    </li>\n</ul>'),e.put("/templates/directives/side-tree/side-tree.html",'<div class="side-tree" ng-if="state.tree">\n    <div class="side-tree__filter-container">\n        <input type="text"\n               class="side-tree__filter"\n               placeholder="Filter..."\n               ng-model="state.filter"\n               ng-change="filter()">\n    </div>\n    <side-tree-section section="state.treeDisplay.completed" props="props"></side-tree-section>\n    <side-tree-section section="state.treeDisplay.required" props="props"></side-tree-section>\n    <side-tree-section section="state.treeDisplay.optional" props="props"></side-tree-section>\n</div>\n')}]);